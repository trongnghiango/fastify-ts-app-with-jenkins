{
  "version": 3,
  "sources": ["../src/server.ts"],
  "sourcesContent": ["import { build } from \"./app\"\nimport closeWithGrace from \"close-with-grace\"\nimport dotenv from \"dotenv\"\n\ndotenv.config()\n\nconst opts: any = {\n  logger: {\n    level: \"debug\",\n  },\n}\n\n// We want to use pino-pretty only if there is a human watching this,\n// otherwise we log as newline-delimited JSON.\nif (process.stdout.isTTY) {\n  opts.logger.transport = { target: \"pino-pretty\" }\n}\n\nconst port = parseInt(process.env.PORT || \"3000\")\nconst host = process.env.HOST || \"127.0.0.1\"\n\nasync function start() {\n  const app = await build(opts)\n  console.log(app.printRoutes())\n  await app.listen({ host, port })\n  \n  closeWithGrace({ delay: 500 }, async ({ err }) => {\n    if (err) {\n      app.log.error({ err }, \"server closing due to error\")\n    }\n    app.log.info(\"shutting down gracefully\")\n    await app.close()\n  })\n}\nstart();\n\n\n"],
  "mappings": "wdAAA,IAAAA,EAAsB,iBACtBC,EAA2B,+BAC3BC,EAAmB,qBAEnB,EAAAC,QAAO,OAAO,EAEd,MAAMC,EAAY,CAChB,OAAQ,CACN,MAAO,OACT,CACF,EAII,QAAQ,OAAO,QACjBA,EAAK,OAAO,UAAY,CAAE,OAAQ,aAAc,GAGlD,MAAMC,EAAO,SAAS,QAAQ,IAAI,MAAQ,MAAM,EAC1CC,EAAO,QAAQ,IAAI,MAAQ,YAEjC,eAAeC,GAAQ,CACrB,MAAMC,EAAM,QAAM,SAAMJ,CAAI,EAC5B,QAAQ,IAAII,EAAI,YAAY,CAAC,EAC7B,MAAMA,EAAI,OAAO,CAAE,KAAAF,EAAM,KAAAD,CAAK,CAAC,KAE/B,EAAAI,SAAe,CAAE,MAAO,GAAI,EAAG,MAAO,CAAE,IAAAC,CAAI,IAAM,CAC5CA,GACFF,EAAI,IAAI,MAAM,CAAE,IAAAE,CAAI,EAAG,6BAA6B,EAEtDF,EAAI,IAAI,KAAK,0BAA0B,EACvC,MAAMA,EAAI,MAAM,CAClB,CAAC,CACH,CACAD,EAAM",
  "names": ["import_app", "import_close_with_grace", "import_dotenv", "dotenv", "opts", "port", "host", "start", "app", "closeWithGrace", "err"]
}
