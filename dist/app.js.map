{
  "version": 3,
  "sources": ["../src/app.ts"],
  "sourcesContent": ["import fastify from \"fastify\"\nimport autoload from \"@fastify/autoload\"\nimport { join } from \"path\"\nimport mssql from \"fastify-mssql\"\n\nexport async function build(opts = {}) {\n  const app = fastify(opts)\n  console.log(\"(\u25E5\u2040\u072B\u2040\u25E4)\", __dirname)\n  // app.register(mssql, {\n    \n  // })\n\n  app.register(autoload, {\n    dir: join(__dirname ,\"modules\"),\n    encapsulate: false,\n    maxDepth: 1,\n  })\n\n  app.addHook(\"preSerialization\", async (request, reply, payload) => {\n    return { wrapped: payload }\n  })\n\n  app.setErrorHandler(async (err, request, reply) => {\n    console.log(\"TEST::::\", err.message)\n    if (err.validation) {\n      reply.code(403)\n      return err.message\n    }\n    request.log.error(\"TEST:::\", { err })\n    reply.code(err.statusCode || 500)\n\n    return (\n      err || \"I'm sorry, there was an error processing your request.\"\n    )\n  })\n\n  app.setNotFoundHandler(async (request, reply) => {\n    reply.code(404)\n    return {\n      msg: \"I'm sorry, I couldn't find what you were looking for.\",\n    }\n  })\n\n  return app\n}\n"],
  "mappings": "0jBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,WAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAAoB,sBACpBC,EAAqB,gCACrBC,EAAqB,gBAGrB,eAAsBJ,EAAMK,EAAO,CAAC,EAAG,CACrC,MAAMC,KAAM,EAAAC,SAAQF,CAAI,EACxB,eAAQ,IAAI,mCAAW,SAAS,EAKhCC,EAAI,SAAS,EAAAE,QAAU,CACrB,OAAK,QAAK,UAAW,SAAS,EAC9B,YAAa,GACb,SAAU,CACZ,CAAC,EAEDF,EAAI,QAAQ,mBAAoB,MAAOG,EAASC,EAAOC,KAC9C,CAAE,QAASA,CAAQ,EAC3B,EAEDL,EAAI,gBAAgB,MAAOM,EAAKH,EAASC,KACvC,QAAQ,IAAI,WAAYE,EAAI,OAAO,EAC/BA,EAAI,YACNF,EAAM,KAAK,GAAG,EACPE,EAAI,UAEbH,EAAQ,IAAI,MAAM,UAAW,CAAE,IAAAG,CAAI,CAAC,EACpCF,EAAM,KAAKE,EAAI,YAAc,GAAG,EAG9BA,GAAO,0DAEV,EAEDN,EAAI,mBAAmB,MAAOG,EAASC,KACrCA,EAAM,KAAK,GAAG,EACP,CACL,IAAK,uDACP,EACD,EAEMJ,CACT",
  "names": ["app_exports", "__export", "build", "__toCommonJS", "import_fastify", "import_autoload", "import_path", "opts", "app", "fastify", "autoload", "request", "reply", "payload", "err"]
}
