"use strict";var g=Object.create;var n=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var d=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var y=(o,t,r,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of u(t))!m.call(o,s)&&s!==r&&n(o,s,{get:()=>t[s],enumerable:!(e=f(t,s))||e.enumerable});return o};var i=(o,t,r)=>(r=o!=null?g(d(o)):{},y(t||!o||!o.__esModule?n(r,"default",{value:o,enumerable:!0}):r,o));var c=require("./app"),l=i(require("close-with-grace")),p=i(require("dotenv"));p.default.config();const a={logger:{level:"debug"}};process.stdout.isTTY&&(a.logger.transport={target:"pino-pretty"});const v=parseInt(process.env.PORT||"3000"),w=process.env.HOST||"127.0.0.1";async function T(){const o=await(0,c.build)(a);console.log(o.printRoutes()),await o.listen({host:w,port:v}),(0,l.default)({delay:500},async({err:t})=>{t&&o.log.error({err:t},"server closing due to error"),o.log.info("shutting down gracefully"),await o.close()})}T();
//# sourceMappingURL=server.js.map
